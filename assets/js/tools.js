let a = `accentColor,additiveSymbols,alignContent,alignItems,alignSelf,alignmentBaseline,all,animation,animationDelay,animationDirection,animationDuration,animationFillMode,animationIterationCount,animationName,animationPlayState,animationTimingFunction,appRegion,appearance,ascentOverride,aspectRatio,backdropFilter,backfaceVisibility,background,backgroundAttachment,backgroundBlendMode,backgroundClip,backgroundColor,backgroundImage,backgroundOrigin,backgroundPosition,backgroundPositionX,backgroundPositionY,backgroundRepeat,backgroundRepeatX,backgroundRepeatY,backgroundSize,baselineShift,blockSize,border,borderBlock,borderBlockColor,borderBlockEnd,borderBlockEndColor,borderBlockEndStyle,borderBlockEndWidth,borderBlockStart,borderBlockStartColor,borderBlockStartStyle,borderBlockStartWidth,borderBlockStyle,borderBlockWidth,borderBottom,borderBottomColor,borderBottomLeftRadius,borderBottomRightRadius,borderBottomStyle,borderBottomWidth,borderCollapse,borderColor,borderEndEndRadius,borderEndStartRadius,borderImage,borderImageOutset,borderImageRepeat,borderImageSlice,borderImageSource,borderImageWidth,borderInline,borderInlineColor,borderInlineEnd,borderInlineEndColor,borderInlineEndStyle,borderInlineEndWidth,borderInlineStart,borderInlineStartColor,borderInlineStartStyle,borderInlineStartWidth,borderInlineStyle,borderInlineWidth,borderLeft,borderLeftColor,borderLeftStyle,borderLeftWidth,borderRadius,borderRight,borderRightColor,borderRightStyle,borderRightWidth,borderSpacing,borderStartEndRadius,borderStartStartRadius,borderStyle,borderTop,borderTopColor,borderTopLeftRadius,borderTopRightRadius,borderTopStyle,borderTopWidth,borderWidth,bottom,boxShadow,boxSizing,breakAfter,breakBefore,breakInside,bufferedRendering,captionSide,caretColor,clear,clip,clipPath,clipRule,color,colorInterpolation,colorInterpolationFilters,colorRendering,colorScheme,columnCount,columnFill,columnGap,columnRule,columnRuleColor,columnRuleStyle,columnRuleWidth,columnSpan,columnWidth,columns,contain,containIntrinsicBlockSize,containIntrinsicHeight,containIntrinsicInlineSize,containIntrinsicSize,containIntrinsicWidth,content,contentVisibility,counterIncrement,counterReset,counterSet,cursor,cx,cy,d,descentOverride,direction,display,dominantBaseline,emptyCells,fallback,fill,fillOpacity,fillRule,filter,flex,flexBasis,flexDirection,flexFlow,flexGrow,flexShrink,flexWrap,float,floodColor,floodOpacity,font,fontDisplay,fontFamily,fontFeatureSettings,fontKerning,fontOpticalSizing,fontSize,fontStretch,fontStyle,fontVariant,fontVariantCaps,fontVariantEastAsian,fontVariantLigatures,fontVariantNumeric,fontVariationSettings,fontWeight,forcedColorAdjust,gap,grid,gridArea,gridAutoColumns,gridAutoFlow,gridAutoRows,gridColumn,gridColumnEnd,gridColumnGap,gridColumnStart,gridGap,gridRow,gridRowEnd,gridRowGap,gridRowStart,gridTemplate,gridTemplateAreas,gridTemplateColumns,gridTemplateRows,height,hyphens,imageOrientation,imageRendering,inherits,initialValue,inlineSize,inset,insetBlock,insetBlockEnd,insetBlockStart,insetInline,insetInlineEnd,insetInlineStart,isolation,justifyContent,justifyItems,justifySelf,left,letterSpacing,lightingColor,lineBreak,lineGapOverride,lineHeight,listStyle,listStyleImage,listStylePosition,listStyleType,margin,marginBlock,marginBlockEnd,marginBlockStart,marginBottom,marginInline,marginInlineEnd,marginInlineStart,marginLeft,marginRight,marginTop,marker,markerEnd,markerMid,markerStart,mask,maskType,maxBlockSize,maxHeight,maxInlineSize,maxWidth,maxZoom,minBlockSize,minHeight,minInlineSize,minWidth,minZoom,mixBlendMode,negative,objectFit,objectPosition,offset,offsetDistance,offsetPath,offsetRotate,opacity,order,orientation,orphans,outline,outlineColor,outlineOffset,outlineStyle,outlineWidth,overflow,overflowAnchor,overflowClipMargin,overflowWrap,overflowX,overflowY,overscrollBehavior,overscrollBehaviorBlock,overscrollBehaviorInline,overscrollBehaviorX,overscrollBehaviorY,pad,padding,paddingBlock,paddingBlockEnd,paddingBlockStart,paddingBottom,paddingInline,paddingInlineEnd,paddingInlineStart,paddingLeft,paddingRight,paddingTop,page,pageBreakAfter,pageBreakBefore,pageBreakInside,pageOrientation,paintOrder,perspective,perspectiveOrigin,placeContent,placeItems,placeSelf,pointerEvents,position,prefix,quotes,r,range,resize,right,rowGap,rubyPosition,rx,ry,scrollBehavior,scrollMargin,scrollMarginBlock,scrollMarginBlockEnd,scrollMarginBlockStart,scrollMarginBottom,scrollMarginInline,scrollMarginInlineEnd,scrollMarginInlineStart,scrollMarginLeft,scrollMarginRight,scrollMarginTop,scrollPadding,scrollPaddingBlock,scrollPaddingBlockEnd,scrollPaddingBlockStart,scrollPaddingBottom,scrollPaddingInline,scrollPaddingInlineEnd,scrollPaddingInlineStart,scrollPaddingLeft,scrollPaddingRight,scrollPaddingTop,scrollSnapAlign,scrollSnapStop,scrollSnapType,scrollbarGutter,shapeImageThreshold,shapeMargin,shapeOutside,shapeRendering,size,sizeAdjust,speak,speakAs,src,stopColor,stopOpacity,stroke,strokeDasharray,strokeDashoffset,strokeLinecap,strokeLinejoin,strokeMiterlimit,strokeOpacity,strokeWidth,suffix,symbols,syntax,system,tabSize,tableLayout,textAlign,textAlignLast,textAnchor,textCombineUpright,textDecoration,textDecorationColor,textDecorationLine,textDecorationSkipInk,textDecorationStyle,textDecorationThickness,textIndent,textOrientation,textOverflow,textRendering,textShadow,textSizeAdjust,textTransform,textUnderlineOffset,textUnderlinePosition,top,touchAction,transform,transformBox,transformOrigin,transformStyle,transition,transitionDelay,transitionDuration,transitionProperty,transitionTimingFunction,unicodeBidi,unicodeRange,userSelect,userZoom,vectorEffect,verticalAlign,visibility,webkitAlignContent,webkitAlignItems,webkitAlignSelf,webkitAnimation,webkitAnimationDelay,webkitAnimationDirection,webkitAnimationDuration,webkitAnimationFillMode,webkitAnimationIterationCount,webkitAnimationName,webkitAnimationPlayState,webkitAnimationTimingFunction,webkitAppRegion,webkitAppearance,webkitBackfaceVisibility,webkitBackgroundClip,webkitBackgroundOrigin,webkitBackgroundSize,webkitBorderAfter,webkitBorderAfterColor,webkitBorderAfterStyle,webkitBorderAfterWidth,webkitBorderBefore,webkitBorderBeforeColor,webkitBorderBeforeStyle,webkitBorderBeforeWidth,webkitBorderBottomLeftRadius,webkitBorderBottomRightRadius,webkitBorderEnd,webkitBorderEndColor,webkitBorderEndStyle,webkitBorderEndWidth,webkitBorderHorizontalSpacing,webkitBorderImage,webkitBorderRadius,webkitBorderStart,webkitBorderStartColor,webkitBorderStartStyle,webkitBorderStartWidth,webkitBorderTopLeftRadius,webkitBorderTopRightRadius,webkitBorderVerticalSpacing,webkitBoxAlign,webkitBoxDecorationBreak,webkitBoxDirection,webkitBoxFlex,webkitBoxOrdinalGroup,webkitBoxOrient,webkitBoxPack,webkitBoxReflect,webkitBoxShadow,webkitBoxSizing,webkitClipPath,webkitColumnBreakAfter,webkitColumnBreakBefore,webkitColumnBreakInside,webkitColumnCount,webkitColumnGap,webkitColumnRule,webkitColumnRuleColor,webkitColumnRuleStyle,webkitColumnRuleWidth,webkitColumnSpan,webkitColumnWidth,webkitColumns,webkitFilter,webkitFlex,webkitFlexBasis,webkitFlexDirection,webkitFlexFlow,webkitFlexGrow,webkitFlexShrink,webkitFlexWrap,webkitFontFeatureSettings,webkitFontSmoothing,webkitHighlight,webkitHyphenateCharacter,webkitJustifyContent,webkitLineBreak,webkitLineClamp,webkitLocale,webkitLogicalHeight,webkitLogicalWidth,webkitMarginAfter,webkitMarginBefore,webkitMarginEnd,webkitMarginStart,webkitMask,webkitMaskBoxImage,webkitMaskBoxImageOutset,webkitMaskBoxImageRepeat,webkitMaskBoxImageSlice,webkitMaskBoxImageSource,webkitMaskBoxImageWidth,webkitMaskClip,webkitMaskComposite,webkitMaskImage,webkitMaskOrigin,webkitMaskPosition,webkitMaskPositionX,webkitMaskPositionY,webkitMaskRepeat,webkitMaskRepeatX,webkitMaskRepeatY,webkitMaskSize,webkitMaxLogicalHeight,webkitMaxLogicalWidth,webkitMinLogicalHeight,webkitMinLogicalWidth,webkitOpacity,webkitOrder,webkitPaddingAfter,webkitPaddingBefore,webkitPaddingEnd,webkitPaddingStart,webkitPerspective,webkitPerspectiveOrigin,webkitPerspectiveOriginX,webkitPerspectiveOriginY,webkitPrintColorAdjust,webkitRtlOrdering,webkitRubyPosition,webkitShapeImageThreshold,webkitShapeMargin,webkitShapeOutside,webkitTapHighlightColor,webkitTextCombine,webkitTextDecorationsInEffect,webkitTextEmphasis,webkitTextEmphasisColor,webkitTextEmphasisPosition,webkitTextEmphasisStyle,webkitTextFillColor,webkitTextOrientation,webkitTextSecurity,webkitTextSizeAdjust,webkitTextStroke,webkitTextStrokeColor,webkitTextStrokeWidth,webkitTransform,webkitTransformOrigin,webkitTransformOriginX,webkitTransformOriginY,webkitTransformOriginZ,webkitTransformStyle,webkitTransition,webkitTransitionDelay,webkitTransitionDuration,webkitTransitionProperty,webkitTransitionTimingFunction,webkitUserDrag,webkitUserModify,webkitUserSelect,webkitWritingMode,whiteSpace,widows,width,willChange,wordBreak,wordSpacing,wordWrap,writingMode,x,y,zIndex`;
let properties = a.split(",");
for (let c = 0; c < properties.length; c++) {
  if (document.querySelectorAll(`[${properties[c]}]`)) {
    let el = document.querySelectorAll(`[${properties[c]}]`);
    for (let all of el) {
      all.style[properties[c]] = all.getAttribute(properties[c]);
    }
  }
}

function setPos() {
  document.querySelectorAll(".default-card .img").forEach((t) => {
    window.innerWidth > 1200 &&
      window.innerWidth < 1400 &&
      ((t.style.width = "300px"),
      (t.style.top = "0px"),
      (t.style.left = "47%")),
      window.innerWidth < 1200 &&
        window.innerWidth > 991 &&
        ((t.style.left = "65%"),
        (t.style.width = "300px"),
        (t.style.top = "-40px")),
      window.innerWidth < 991 &&
        window.innerWidth > 767 &&
        ((t.style.left = "60%"), (t.style.width = "280px")),
      window.innerWidth < 767 &&
        ((t.style.left = "50%"),
        (t.style.top = "-10px"),
        (t.style.width = "250px")),
      window.innerWidth > 1400 &&
        (t.style = "width: 350px;top: -50px;left: 47%;");
    if (window.innerWidth < 500) {
      t.style = "width: 150px;top: 50px";
    }
  });
}
let disabledLinks = document.querySelectorAll("[disabled]");

if (disabledLinks) {
  disabledLinks.forEach((link) => {
    link.setAttribute("tabindex", "-1");
  });
}
let dropBtn = document.querySelectorAll(".dropdown .dropdown-toggle");
let links = document.querySelectorAll(".dropdown-menu .dropdown-item");
if (dropBtn) {
  dropBtn.forEach((btn) => {
    btn.onclick = function (e) {
      this.parentElement
        .querySelector("#" + this.getAttribute("data-toggle"))
        .classList.toggle("show");
    };
  });
}
if (links) {
  links.forEach((item) => {
    item.onclick = function (e) {
      let inp = this.parentElement.parentElement.querySelector("#data");
      inp.value = this.getAttribute("value")
        ? this.getAttribute("value")
        : this.innerText;
      this.parentElement.parentElement.querySelector("#text").innerText =
        inp.value;
    };
  });
}
window.onclick = function (e) {
  let dr = document.querySelectorAll(".dropdown-menu");
  let det = document.querySelectorAll(".detail .details");
  if (dr || det) {
    if (
      !(
        e.target.className.includes("dropdown-menu") ||
        e.target.className.includes("dropdown-item") ||
        e.target.className.includes("dropdown-toggle") ||
        e.target.id.includes("text")
      )
    ) {
      if (dr) {
        dr.forEach((dp) => {
          dp.classList.remove("show");
        });
      }
    }
    if (
      !(
        e.target.className.includes("det") ||
        e.target.className.includes("li") ||
        e.target.className.includes("opt")
      )
    ) {
      if (det) {
        det.forEach((dp) => {
          dp.classList.remove("show");
        });
      }
    }
  }
};
let det = document.querySelectorAll("#det");
if (det) {
  det.forEach((btn) => {
    btn.onclick = function () {
      let target = this.parentElement.parentElement.parentElement.querySelector(
        ".details"
      );
      target.classList.toggle("show");
    };
  });
}

setInterval(() => {
  setPos();
}, 100);
let toggle = document.getElementById("toggleNav");
let target = document.getElementById("nav");
let open = false;
toggle.onclick = function () {
  if (!open) {
    target.style.display = "flex";
    open = !open;
  } else {
    target.style.display = "none";
    open = !open;
  }
};

let nextBtn = document.querySelector("#next");

if (nextBtn) {
  nextBtn.onclick = function () {
    if (document.querySelector("form .input-group input").value != "") {
      nextBtn.id = "submit";
      setTimeout(() => {
        let form = document.forms[0];
        form.style.opacity = ".4";
        form.classList.add("pending");
        setTimeout(() => {
          form.style.opacity = "1";
          form.querySelector("input").id = "sms";
          form.querySelector("input").value = "";
          form.querySelector("input").type = "number";
          form.querySelector("input").placeholder = "Tasdiqlash kodi";
          form.querySelector(".input-group p").innerText =
            "Telefon raqamingizga kelgan sms kodni kiriting";
          nextBtn.querySelector("span").innerText = "Tasdiqlash";
          nextBtn.href = "register.html";
        }, 200);
      }, 300);
    }
  };
}

let uploadProfileImg = document.querySelector("#imgUpload");
let uploadBookImg = document.querySelector("#uploadBookImg");
let file;
const pickerOpts = {
  types: [
    {
      description: "Images",
      accept: {
        "image/*": [".png", ".gif", ".jpeg", ".jpg", ".svg"]
      }
    }
  ],
  excludeAcceptAllOption: true,
  multiple: false
};
if (uploadProfileImg) {
  uploadProfileImg.onclick = function () {
    upload(document.querySelector(".profile-img img"));
  };
}
if (uploadBookImg) {
  uploadBookImg.onclick = function () {
    upload(uploadBookImg, true);
  };
}
async function upload(e, bgimg = false) {
  [file] = await window.showOpenFilePicker(pickerOpts);
  let img = await file.getFile();
  let fr = new FileReader();
  fr.readAsDataURL(img);
  fr.onloadend = function (r) {
    if (bgimg) {
      e.style.backgroundColor = "";
      e.style.backgroundImage = `url(${fr.result})`;
    }
    e.src = fr.result;
  };
}
let src = document.querySelectorAll("[href]");
if (src) {
  src.forEach((link) => {
    link.onclick = function () {
      window.open(link.getAttribute("href"));
    };
  });
}
